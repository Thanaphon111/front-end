{"ast":null,"code":"import React,{useState}from\"react\";import\"../App.css\";export const Movies=_ref=>{let{movies}=_ref;const[searchText,setSearchText]=useState('');const[searchResults,setSearchResults]=useState([]);const[isSearching,setIsSearching]=useState(false);const handleSearch=async()=>{try{const response=await fetch(\"http://api.se-rmutl.net/api/movie/search?search_text=\".concat(searchText));const data=await response.json();if(data.returnCode===1){setSearchResults(data.data);setIsSearching(true);}else{setSearchResults([]);setIsSearching(false);}}catch(error){console.error('Error searching for movies:',error);}};if(movies.length===0)return null;const MovieRow=(movie,index)=>{return/*#__PURE__*/React.createElement(\"tr\",{key:index,className:index%2===0?\"odd\":\"even\"},/*#__PURE__*/React.createElement(\"td\",null,index+1),/*#__PURE__*/React.createElement(\"td\",null,movie.title),/*#__PURE__*/React.createElement(\"td\",null,movie.genre),/*#__PURE__*/React.createElement(\"td\",null,movie.director),/*#__PURE__*/React.createElement(\"td\",null,movie.release_year));};const movieTable=isSearching?searchResults.map((movie,index)=>MovieRow(movie,index)):movies.map((movie,index)=>MovieRow(movie,index));return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",justifyContent:\"flex-start\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"h2\",null,\"Movies\"),/*#__PURE__*/React.createElement(\"div\",{style:{display:\"flex\",alignItems:\"center\"}},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"Search_input\",style:{padding:\"10px\",fontSize:\"16px\",border:\"1px solid #ccc\",borderRadius:\"5px\",width:\"300px\",marginRight:\"10px\"},placeholder:\"Enter The Title Of Movie\",value:searchText,onChange:e=>setSearchText(e.target.value)}),/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-warning\",style:{padding:\"10px\",borderRadius:\"5px\"},onClick:handleSearch},\"Search\")))),/*#__PURE__*/React.createElement(\"hr\",null),/*#__PURE__*/React.createElement(\"table\",{className:\"table table-bordered table-hover\"},/*#__PURE__*/React.createElement(\"thead\",{className:\"table-info\"},/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"th\",null,\"Movie Id\"),/*#__PURE__*/React.createElement(\"th\",null,\"Title\"),/*#__PURE__*/React.createElement(\"th\",null,\"Genre\"),/*#__PURE__*/React.createElement(\"th\",null,\"Director\"),/*#__PURE__*/React.createElement(\"th\",null,\"Release\"))),/*#__PURE__*/React.createElement(\"tbody\",null,movieTable,isSearching&&searchResults.length===0&&/*#__PURE__*/React.createElement(\"tr\",null,/*#__PURE__*/React.createElement(\"td\",{colSpan:\"5\"},\"No movies found\")))));};","map":{"version":3,"names":["React","useState","Movies","_ref","movies","searchText","setSearchText","searchResults","setSearchResults","isSearching","setIsSearching","handleSearch","response","fetch","concat","data","json","returnCode","error","console","length","MovieRow","movie","index","createElement","key","className","title","genre","director","release_year","movieTable","map","style","display","justifyContent","alignItems","type","padding","fontSize","border","borderRadius","width","marginRight","placeholder","value","onChange","e","target","onClick","colSpan"],"sources":["/Users/admin/ENGSE203/first-development/my-app/src/components/Movies.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport \"../App.css\";\n\n\n\nexport const Movies = ({ movies }) => {\n  const [searchText, setSearchText] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [isSearching, setIsSearching] = useState(false);\n\n  const handleSearch = async () => {\n    try {\n      const response = await fetch(`http://api.se-rmutl.net/api/movie/search?search_text=${searchText}`);\n      const data = await response.json();\n\n      if (data.returnCode === 1) {\n        setSearchResults(data.data);\n        setIsSearching(true);\n      } else {\n        setSearchResults([]);\n        setIsSearching(false);\n      }\n    } catch (error) {\n      console.error('Error searching for movies:', error);\n    }\n  };\n\n\n  if (movies.length === 0) return null;\n\n  const MovieRow = (movie, index) => {\n    return (\n      <tr key={index} className={index % 2 === 0 ? \"odd\" : \"even\"}>\n        <td>{index + 1}</td>\n        <td>{movie.title}</td>\n        <td>{movie.genre}</td>\n        <td>{movie.director}</td>\n        <td>{movie.release_year}</td>\n      </tr>\n    );\n  };\n\n  const movieTable = isSearching ?\n    searchResults.map((movie, index) => MovieRow(movie, index)) :\n    movies.map((movie, index) => MovieRow(movie, index));\n\n  return (\n    <div className=\"container\">\n      <div style={{ display: \"flex\", justifyContent: \"flex-start\", alignItems: \"center\" }}>\n        <div>\n          <h2>Movies</h2>\n          <div style={{ display: \"flex\", alignItems: \"center\" }}>\n            <input\n              type=\"text\"\n              className=\"Search_input\"\n              style={{\n                padding: \"10px\",\n                fontSize: \"16px\",\n                border: \"1px solid #ccc\",\n                borderRadius: \"5px\",\n                width: \"300px\",\n                marginRight: \"10px\",\n              }}\n              placeholder=\"Enter The Title Of Movie\"\n              value={searchText}\n              onChange={(e) => setSearchText(e.target.value)}\n            />\n            <button\n              className=\"btn btn-warning\"\n              style={{ padding: \"10px\", borderRadius: \"5px\" }}\n              onClick={handleSearch}\n            >\n              Search\n            </button>\n          </div>\n        </div>\n      </div>\n      <hr />\n\n      <table className=\"table table-bordered table-hover\">\n        <thead className=\"table-info\">\n          <tr>\n            <th>Movie Id</th>\n            <th>Title</th>\n            <th>Genre</th>\n            <th>Director</th>\n            <th>Release</th>\n          </tr>\n        </thead>\n        <tbody>\n          {movieTable}\n          {isSearching && searchResults.length === 0 && <tr><td colSpan=\"5\">No movies found</td></tr>}\n        </tbody>\n      </table>\n    </div>\n  );\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}